<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="plantlist">
<title>Searching and Processing Plant Scientific names using the plantlist package • plantlist</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Searching and Processing Plant Scientific names using the plantlist package">
<meta property="og:description" content="plantlist">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">plantlist</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.8.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/plantlist-vignette.html">Searching and Processing Plant Scientific names using the plantlist package</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/helixcn/plantlist/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Searching and Processing Plant Scientific names using the plantlist package</h1>
                        <h4 data-toc-skip class="author">张金龙</h4>
            
            <h4 data-toc-skip class="date">2022-06-14</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/helixcn/plantlist/blob/HEAD/vignettes/plantlist-vignette.Rmd" class="external-link"><code>vignettes/plantlist-vignette.Rmd</code></a></small>
      <div class="d-none name"><code>plantlist-vignette.Rmd</code></div>
    </div>

    
    
<p>plantlist是用来查询和处理植物学名的R程序包，自2013年发布以来，受到很多老师和同学的关注。</p>
<div class="section level3">
<h3 id="plantlist的主要功能">plantlist的主要功能<a class="anchor" aria-label="anchor" href="#plantlist%E7%9A%84%E4%B8%BB%E8%A6%81%E5%8A%9F%E8%83%BD"></a>
</h3>
<ol style="list-style-type: decimal">
<li><p>批量查询植物科属，内置的数据主要来源于The Plant List网站 (
www.theplantlist.org/
)，其中被子植物采用APGIII分类系统，同时提供维管植物每个科的编号，可用于植物标本管理，方便编纂植物名录等。</p></li>
<li><p>直接生成科/属/种的列表, 以便导入Phylomatic,
V.PhyloMaker等软件生成进化树</p></li>
<li><p>用中文名批量查询植物学名以及科属</p></li>
<li><p>查询学名的接受状态以及完整学名等</p></li>
<li><p>制作不同风格的中文植物名录Markdown源文件</p></li>
</ol>
</div>
<div class="section level3">
<h3 id="类似的程序包或网站">类似的程序包或网站<a class="anchor" aria-label="anchor" href="#%E7%B1%BB%E4%BC%BC%E7%9A%84%E7%A8%8B%E5%BA%8F%E5%8C%85%E6%88%96%E7%BD%91%E7%AB%99"></a>
</h3>
<p>R软件中，类似的程序包还有：</p>
<ul>
<li><p>taxize (<a href="https://cran.r-project.org/web/packages/taxize/index.html" class="external-link uri">https://cran.r-project.org/web/packages/taxize/index.html</a>)</p></li>
<li><p>Taxonstand (<a href="https://cran.r-project.org/web/packages/Taxonstand/index.html" class="external-link uri">https://cran.r-project.org/web/packages/Taxonstand/index.html</a>)，</p></li>
</ul>
<p>网站有：</p>
<ul>
<li><p>植物分类查询 (<a href="http://tnrs.iplantcollaborative.org/instructions.html" class="external-link uri">http://tnrs.iplantcollaborative.org/instructions.html</a>)</p></li>
<li><p>NSII名录批量自动校对服务 (<a href="http://www.nsii.org.cn/2017/checklist.php" class="external-link uri">http://www.nsii.org.cn/2017/checklist.php</a>)</p></li>
<li><p>中国生物物种名录 (<a href="http://www.sp2000.org.cn/" class="external-link uri">http://www.sp2000.org.cn/</a>) 。</p></li>
</ul>
<p>相比之下，plantlist的主要特点在于：</p>
<ol style="list-style-type: decimal">
<li><p>使用校对过的内置数据，使用过程中不需要连网。</p></li>
<li><p>优化了查询单个物种名是否为接受名的算法，速度更快</p></li>
<li><p>查询结果所显示的信息更加简洁清晰</p></li>
<li><p>支持用中文名批量查询学名</p></li>
</ol>
</div>
<div class="section level3">
<h3 id="plantlist包内的函数">plantlist包内的函数<a class="anchor" aria-label="anchor" href="#plantlist%E5%8C%85%E5%86%85%E7%9A%84%E5%87%BD%E6%95%B0"></a>
</h3>
<ul>
<li><p><code><a href="../reference/TPL.html">TPL()</a></code>
用学名查询目、科、属以及科在分类系统中的编号</p></li>
<li><p><code><a href="../reference/taxa.table.html">taxa.table()</a></code>
基于TPL查询结果制作科、属、种列表，以便用Phylomatic软件建立进化树</p></li>
<li><p><code><a href="../reference/status.html">status()</a></code> 查询每个学名在The Plant List
1.1数据库中的接受状态（该数据库已经放在程序包中）</p></li>
<li><p><code><a href="../reference/CTPL.html">CTPL()</a></code>
查询中国记录植物的科、属、分布、海拔、IUCN等级等</p></li>
<li><p><code>count_taxa</code>
统计<code>CTPL</code>查询结果出现的科、属、种等数量</p></li>
<li><p><code>make_checklist</code>
根据<code>CTPL</code>的查询结果，制作三种风格的植物名录（按照系统发育顺序排列）</p></li>
</ul>
</div>
<div class="section level3">
<h3 id="内置数据">内置数据<a class="anchor" aria-label="anchor" href="#%E5%86%85%E7%BD%AE%E6%95%B0%E6%8D%AE"></a>
</h3>
<ul>
<li><p><code>acc_dat</code>: The Plant List 1.1
网站上的所有接受名</p></li>
<li><p><code>cnplants_dat</code>:
《中国植物名录》及每个种的科、属、分布、海拔、中国IUCN等级以及特有性等数据</p></li>
<li><p><code>genera_dat</code>: The Plant List 1.1
网站上的所有属名列表，因源数据有一些错误，绝大部分已经修订。</p></li>
<li><p><code>orders_dat</code>: Angiosperm Phylogeny Website
(www.mobot.org/MOBOT/research/APweb/) 提供的各科所属的目。</p></li>
<li><p><code>syn_dat</code>: The Plant List 1.1
网站的异名数据库</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="安装">安装<a class="anchor" aria-label="anchor" href="#%E5%AE%89%E8%A3%85"></a>
</h2>
<p>由于plantlist最新版本的源代码保存在github (<a href="https://www.github.com/helixcn/plantlist" class="external-link uri">https://www.github.com/helixcn/plantlist</a>)。</p>
<p>安装命令如下：</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span>
<span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"helixcn/plantlist"</span>, build_vignettes <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="用法">用法<a class="anchor" aria-label="anchor" href="#%E7%94%A8%E6%B3%95"></a>
</h2>
<div class="section level3">
<h3 id="tpl根据拉丁名查询目科属及科的编号">
<code>TPL()</code>:根据拉丁名，查询目、科、属及科的编号<a class="anchor" aria-label="anchor" href="#tpl%E6%A0%B9%E6%8D%AE%E6%8B%89%E4%B8%81%E5%90%8D%E6%9F%A5%E8%AF%A2%E7%9B%AE%E7%A7%91%E5%B1%9E%E5%8F%8A%E7%A7%91%E7%9A%84%E7%BC%96%E5%8F%B7"></a>
</h3>
<p><code>TPL</code>函数输入的数据必须是字符串向量。可以查询科、属、种的相应信息，但并不会提示学名是否为接受名。要查询学名是否为接受名，请用<code><a href="../reference/status.html">status()</a></code>函数。</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/helixcn/plantlist/" class="external-link">plantlist</a></span><span class="op">)</span>
<span class="fu"><a href="../reference/TPL.html">TPL</a></span><span class="op">(</span><span class="st">"Carex"</span><span class="op">)</span> <span class="co"># 薹草属</span></code></pre></div>
<pre><code><span class="co">##   YOUR_SEARCH POSSIBLE_GENUS     FAMILY FAMILY_NUMBER  ORDER       GROUP</span>
<span class="co">## 1       Carex          Carex Cyperaceae    APGIII_099 Poales Angiosperms</span></code></pre>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/TPL.html">TPL</a></span><span class="op">(</span><span class="st">"Apple"</span><span class="op">)</span> <span class="co"># 苹果</span></code></pre></div>
<pre><code><span class="co">##   YOUR_SEARCH POSSIBLE_GENUS FAMILY FAMILY_NUMBER ORDER GROUP</span>
<span class="co">## 1       Apple          Apple   &lt;NA&gt;          &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;</span></code></pre>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">splist</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Ranunculus japonicus"</span>, 
            <span class="st">"Solanum nigrum"</span>,
            <span class="st">"Punica sp."</span>, 
            <span class="st">"Machilus"</span>, 
            <span class="st">"Today"</span>, 
            <span class="st">"####"</span> <span class="op">)</span>            <span class="co">### 查询多个种</span>
<span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/TPL.html">TPL</a></span><span class="op">(</span><span class="va">splist</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="taxa-table-基于tpl查询结果制作科属种列表">
<code>taxa.table()</code>
:基于<code>TPL</code>查询结果制作科、属、种列表<a class="anchor" aria-label="anchor" href="#taxa-table-%E5%9F%BA%E4%BA%8Etpl%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E5%88%B6%E4%BD%9C%E7%A7%91%E5%B1%9E%E7%A7%8D%E5%88%97%E8%A1%A8"></a>
</h3>
<p>查询结果多用于Phylomatic或V.PhyloMaker等软件构建进化树。示例代码如下：</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/helixcn/plantlist/" class="external-link">plantlist</a></span><span class="op">)</span>
<span class="va">sp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span> <span class="st">"Ranunculus japonicus"</span>, 
         <span class="st">"Anemone udensis"</span>,
         <span class="st">"Ranunculus repens"</span>,
         <span class="st">"Ranunculus chinensis"</span>,
         <span class="st">"Solanum nigrum"</span>,
         <span class="st">"Punica sp."</span> <span class="op">)</span>
<span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/TPL.html">TPL</a></span><span class="op">(</span><span class="va">sp</span><span class="op">)</span>
<span class="fu"><a href="../reference/taxa.table.html">taxa.table</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## [1] "Ranunculaceae/Ranunculus/Ranunculus_japonicus"</span>
<span class="co">## [2] "Ranunculaceae/Ranunculus/Ranunculus_repens"   </span>
<span class="co">## [3] "Ranunculaceae/Ranunculus/Ranunculus_chinensis"</span>
<span class="co">## [4] "Ranunculaceae/Anemone/Anemone_udensis"        </span>
<span class="co">## [5] "Solanaceae/Solanum/Solanum_nigrum"            </span>
<span class="co">## [6] "Lythraceae/Punica/Punica_sp."</span></code></pre>
</div>
<div class="section level3">
<h3 id="status-查询每个学名在the-plant-list-1-1-本程序包内置数据-的接受状态">
<code>status()</code> :查询每个学名在The Plant List 1.1
(本程序包内置数据) 的接受状态<a class="anchor" aria-label="anchor" href="#status-%E6%9F%A5%E8%AF%A2%E6%AF%8F%E4%B8%AA%E5%AD%A6%E5%90%8D%E5%9C%A8the-plant-list-1-1-%E6%9C%AC%E7%A8%8B%E5%BA%8F%E5%8C%85%E5%86%85%E7%BD%AE%E6%95%B0%E6%8D%AE-%E7%9A%84%E6%8E%A5%E5%8F%97%E7%8A%B6%E6%80%81"></a>
</h3>
<p>函数参数:</p>
<p><code>status(species =NA, exact =TRUE, spell_error_max =NULL)</code></p>
<p><code>status</code>函数可以查询变种var.、亚种
subsp.以及变型f.是否接受等信息</p>
<ul>
<li><p><code>species</code>为输入的字符串向量</p></li>
<li><p><code>exact</code>表示是否进行精确匹配，如果选择<code>FALSE</code>，则所有能用<code>grep</code>正则表达式匹配的结果都会显示。一般用精确匹配即可</p></li>
<li><p><code>spell_error_max</code>
为所允许的最大的错误拼写的字母数量</p></li>
</ul>
<p><code>status</code>函数对输入的物种名大小写不敏感，物种名的前后以及中间允许有多个空格，species可以包括或者不包括命名人（变型f.之前的命名人除外）</p>
<p>示例：</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/helixcn/plantlist/" class="external-link">plantlist</a></span><span class="op">)</span>

<span class="co">#### 查询一个名称</span>
<span class="fu"><a href="../reference/status.html">status</a></span><span class="op">(</span><span class="st">"Myrica rubra"</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## [1] "1 name(s) to process."</span></code></pre>
<pre><code><span class="co">##   SCIENTIFIC_NAME                  AUTHOR   STATUS     FAMILY ACCEPTED_SPECIES</span>
<span class="co">## 1    Myrica rubra (Lour.) Siebold &amp; Zucc. Accepted Myricaceae     Myrica rubra</span>
<span class="co">##           ACCEPTED_AUTHOR</span>
<span class="co">## 1 (Lour.) Siebold &amp; Zucc.</span></code></pre>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#### 查询多个名称</span>
<span class="fu"><a href="../reference/status.html">status</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Myrica rubra"</span>, 
         <span class="st">"Adinandra millettii"</span>,
         <span class="st">"Machilus thunbergii"</span>,
         <span class="st">"Ranunculus japonicus"</span>,
         <span class="st">"Cyclobalanopsis neglecta"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## [1] "5 name(s) to process."</span></code></pre>
<pre><code><span class="co">##            SCIENTIFIC_NAME                  AUTHOR   STATUS        FAMILY</span>
<span class="co">## 1             Myrica rubra (Lour.) Siebold &amp; Zucc. Accepted    Myricaceae</span>
<span class="co">## 2      Adinandra millettii                    &lt;NA&gt;     &lt;NA&gt;          &lt;NA&gt;</span>
<span class="co">## 3      Machilus thunbergii         Siebold &amp; Zucc. Accepted     Lauraceae</span>
<span class="co">## 4     Ranunculus japonicus                  Thunb. Accepted Ranunculaceae</span>
<span class="co">## 5 Cyclobalanopsis neglecta                Schottky  Synonym      Fagaceae</span>
<span class="co">##       ACCEPTED_SPECIES         ACCEPTED_AUTHOR</span>
<span class="co">## 1         Myrica rubra (Lour.) Siebold &amp; Zucc.</span>
<span class="co">## 2                 &lt;NA&gt;                    &lt;NA&gt;</span>
<span class="co">## 3  Machilus thunbergii         Siebold &amp; Zucc.</span>
<span class="co">## 4 Ranunculus japonicus                  Thunb.</span>
<span class="co">## 5 Quercus myrsinifolia                   Blume</span></code></pre>
<p><strong>重要提示：</strong> 由于表示变型的
f. 有时也用于命名人中，因此，用<code>status</code>函数在查询变型时，
请勿为种添加命名人，但是变型的命名人可以提供或者不提供，具体为:</p>
<pre><code><span class="st">"Hypoxis hirsuta (L.)Coville f. vollosissima Fernald"</span><span class="co">#  （不能处理）</span>
<span class="st">"Hypoxis hirsuta f. vollosissima Fernald"</span><span class="co">#（能处理）</span>
<span class="st">"Hypoxis hirsuta f. vollosissima"</span><span class="co">#（能处理）</span></code></pre>
</div>
<div class="section level3">
<h3 id="ctpl-用中文名查询科属分布海拔iucn等级数据">
<code>CTPL()</code>
:用中文名查询科、属、分布、海拔、IUCN等级数据<a class="anchor" aria-label="anchor" href="#ctpl-%E7%94%A8%E4%B8%AD%E6%96%87%E5%90%8D%E6%9F%A5%E8%AF%A2%E7%A7%91%E5%B1%9E%E5%88%86%E5%B8%83%E6%B5%B7%E6%8B%94iucn%E7%AD%89%E7%BA%A7%E6%95%B0%E6%8D%AE"></a>
</h3>
<p>调用方式： <code>CTPL(taxa = NULL)</code></p>
<p>其中，<code>taxa</code>是植物的中文名向量，
<code>print_as_list</code> 只是打印方式的选项，如果为TRUE，
则用列表的方式打印。</p>
<p><strong>注意</strong>：</p>
<ul>
<li><p>由于涉及中文输入和输出，需要在Rstudio中操作</p></li>
<li><p>本函数返回值为data.frame,
<code>print_as_list</code>参数并不改变返回值的数据类型</p></li>
</ul>
</div>
<div class="section level3">
<h3 id="count_taxa-统计ctpl结果的科属种数量">
<code>count_taxa()</code> :统计CTPL结果的科、属、种数量<a class="anchor" aria-label="anchor" href="#count_taxa-%E7%BB%9F%E8%AE%A1ctpl%E7%BB%93%E6%9E%9C%E7%9A%84%E7%A7%91%E5%B1%9E%E7%A7%8D%E6%95%B0%E9%87%8F"></a>
</h3>
<p>调用方式： <code>count_taxa(checklist_dat)</code></p>
<p><code>checklist_dat</code>
为<code><a href="../reference/CTPL.html">CTPL()</a></code>函数返回的结果，<code>CTPL</code>结果中没有信息的行，将会被忽略。</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/helixcn/plantlist/" class="external-link">plantlist</a></span><span class="op">)</span>
<span class="va">res_CTPL</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/CTPL.html">CTPL</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"桃儿七"</span>, 
                   <span class="st">"连香树"</span>, 
                   <span class="st">"水青树"</span>, 
                   <span class="st">"绿樟"</span>, 
                   <span class="st">"网脉实蕨"</span>, 
                   <span class="st">"Magnolia coco"</span>, 
                   <span class="st">"Punica"</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="../reference/count_taxa.html">count_taxa</a></span><span class="op">(</span><span class="va">res_CTPL</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## Warning in count_taxa(res_CTPL): Taxa: '绿樟, Punica' do(es) not have full scientific name, ignored</span></code></pre>
<pre><code><span class="co">## $NO_OF_FAMILIES</span>
<span class="co">## [1] 5</span>
<span class="co">## </span>
<span class="co">## $NO_OF_GENERA</span>
<span class="co">## [1] 5</span>
<span class="co">## </span>
<span class="co">## $NO_OF_SPECIES</span>
<span class="co">## [1] 5</span>
<span class="co">## </span>
<span class="co">## $NO_OF_FAMILIES_BY_GROUP</span>
<span class="co">##                    group no_of_families</span>
<span class="co">## 1 2 Ferns and lycophytes              1</span>
<span class="co">## 2          4 Angiosperms              4</span>
<span class="co">## </span>
<span class="co">## $NO_OF_GENERA_BY_GROUP</span>
<span class="co">##                    group no_of_genera</span>
<span class="co">## 1 2 Ferns and lycophytes            1</span>
<span class="co">## 2          4 Angiosperms            4</span>
<span class="co">## </span>
<span class="co">## $NO_OF_SPECIES_BY_GROUP</span>
<span class="co">##                    group no_of_species</span>
<span class="co">## 1 2 Ferns and lycophytes             1</span>
<span class="co">## 2          4 Angiosperms             4</span>
<span class="co">## </span>
<span class="co">## $NO_OF_GENERA_BY_FAMILY</span>
<span class="co">##              family no_of_genera</span>
<span class="co">## 1     Berberidaceae            1</span>
<span class="co">## 2 Cercidiphyllaceae            1</span>
<span class="co">## 3   Dryopteridaceae            1</span>
<span class="co">## 4      Magnoliaceae            1</span>
<span class="co">## 5  Trochodendraceae            1</span>
<span class="co">## </span>
<span class="co">## $NO_OF_SPECIES_BY_FAMILY</span>
<span class="co">##              family no_of_species</span>
<span class="co">## 1     Berberidaceae             1</span>
<span class="co">## 2 Cercidiphyllaceae             1</span>
<span class="co">## 3   Dryopteridaceae             1</span>
<span class="co">## 4      Magnoliaceae             1</span>
<span class="co">## 5  Trochodendraceae             1</span>
<span class="co">## </span>
<span class="co">## $NO_OF_SPECIES_BY_GENUS</span>
<span class="co">##             genus no_of_species</span>
<span class="co">## 1        Bolbitis             1</span>
<span class="co">## 2  Cercidiphyllum             1</span>
<span class="co">## 3        Magnolia             1</span>
<span class="co">## 4 Sinopodophyllum             1</span>
<span class="co">## 5    Tetracentron             1</span></code></pre>
</div>
<div class="section level3">
<h3 id="make_checklist-制作markdown格式的植物名录-按照系统发育顺序排列">
<code>make_checklist()</code> :制作markdown格式的植物名录
（按照系统发育顺序排列）<a class="anchor" aria-label="anchor" href="#make_checklist-%E5%88%B6%E4%BD%9Cmarkdown%E6%A0%BC%E5%BC%8F%E7%9A%84%E6%A4%8D%E7%89%A9%E5%90%8D%E5%BD%95-%E6%8C%89%E7%85%A7%E7%B3%BB%E7%BB%9F%E5%8F%91%E8%82%B2%E9%A1%BA%E5%BA%8F%E6%8E%92%E5%88%97"></a>
</h3>
<p>调用：</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/make_checklist.html">make_checklist</a></span><span class="op">(</span>checklist_dat <span class="op">=</span> <span class="cn">NULL</span>, 
                outfile <span class="op">=</span> <span class="st">"output_make_checklist.md"</span>, 
                theme <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"complex"</span>, <span class="st">"simple"</span>, <span class="st">"minimal"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>参数：</p>
<ul>
<li><p><code>checklist_dat = NULL</code>: 为CTPL函数返回的结果</p></li>
<li><p><code>outfile</code>: 为输出的markdown文件的名称</p></li>
<li>
<p><code>theme</code>: 有三种风格可选，其中</p>
<ul>
<li>
<code>complex</code>:
输出的资料最详实，包括IUCN等级、海拔、省级分布等</li>
<li>
<code>simple</code> : 包括物种名和引证的标本</li>
<li>
<code>minimal</code>: 只显示物种的中文名和完整学名</li>
</ul>
</li>
</ul>
<p>关于分类单元的排列顺序：在大类群上按照苔藓、蕨类、裸子植物、被子植物的顺序；每个类群下，按照科的顺序号；科以下，属按照字母排列；属下各种按照分类单元的拉丁名排列。如有提供标本引证，则在CTPL返回的数据框上添加名为<code>SPECIMENS</code>的列即可。</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/helixcn/plantlist/" class="external-link">plantlist</a></span><span class="op">)</span>
<span class="va">res_CTPL</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/CTPL.html">CTPL</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"桃儿七"</span>, 
                   <span class="st">"连香树"</span>, 
                   <span class="st">"水青树"</span>, 
                   <span class="st">"绿樟"</span>, 
                   <span class="st">"网脉实蕨"</span>, 
                   <span class="st">"Magnolia coco"</span>, 
                   <span class="st">"Punica"</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="../reference/make_checklist.html">make_checklist</a></span><span class="op">(</span><span class="va">res_CTPL</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="引用">引用<a class="anchor" aria-label="anchor" href="#%E5%BC%95%E7%94%A8"></a>
</h2>
<p>如果您使用了plantlist程序包，请通过以下方式引用（请根据版本和日期做相应修改）：</p>
<ul>
<li>Jinlong Zhang, Bing Liu, Su Liu, Zhenhao Feng and Kaiwen Jiang
(year). <em>plantlist: Looking Up the Status of Plant Scientific Names
based on The Plant List Database, Searching the Chinese Names and Making
checklists of plants</em> R package version (X.X.X) <a href="https://github.com/helixcn/plantlist/" class="external-link uri">https://github.com/helixcn/plantlist/</a>
</li>
</ul>
</div>
<div class="section level2">
<h2 id="致谢">致谢<a class="anchor" aria-label="anchor" href="#%E8%87%B4%E8%B0%A2"></a>
</h2>
<p>编写本程序包最早是2014年1月在中国科学院昆明植物研究所的《生态和进化中的现代统计：基于R语言的应用》（
<a href="http://blog.sciencenet.cn/blog-255662-793234.html" class="external-link uri">http://blog.sciencenet.cn/blog-255662-793234.html</a>
）课程时开始的。特别感谢杨雪飞老师的邀请以及多位老师同学共同讨论。</p>
<p>本程序包苔藓植物各科属的中文名由中国科学院植物研究所刘冰博士提供。
Plantlist 1.1 数据库来源于汪远分享的数据。</p>
<p>感谢高芳銮、李嵘、张健、朱慧玲、刘冰、胡晓丽、冯嘉恩、黄世芳、俞筱押、胡海花、李家湘、刘水银、鲍志贵、张美霞、葛斌杰、孔德良、刘振稳、龙文兴、金建军、夏尚文、李霞、陶旺兰、李秋萍、易逸瑜、张璋、骆争荣、彭舜磊、郭文永、贾蕙君等各位老师同学提出宝贵意见和建议。</p>
</div>
<div class="section level2">
<h2 id="参考文献">参考文献<a class="anchor" aria-label="anchor" href="#%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE"></a>
</h2>
<ul>
<li><p>数据来源 <a href="https://github.com/helixcn/plantlist_data" class="external-link uri">https://github.com/helixcn/plantlist_data</a> 。</p></li>
<li><p>多识团队. (2016至今). 多识植物百科. <a href="http://duocet.ibiodiversity.net/" class="external-link uri">http://duocet.ibiodiversity.net/</a>.</p></li>
<li><p>刘冰, 叶建飞, 刘夙, 汪远, 杨永, 赖阳均, 曾刚，林秦文. (2015).
中国被子植物科属概览: 依据 APG III 系统. 生物多样性, 23(2),
225-231.</p></li>
<li><p>环境保护部, 中国科学院. (2013)
《中国生物多样性红色名录——高等植物卷 》 电子版来源：
www.mep.gov.cn/gkml/hbb/bgg/201309/W020130917614244055331.pdf</p></li>
<li><p>Christenhusz, M., Zhang, X. C., and Schneider, H. (2011a). A
linear sequence of extant families and genera of lycophytes and ferns.
Phytotaxa. 19:7-54</p></li>
<li><p>Christenhusz, M., Reveal, J., Farjon, A., Gardner, M. F., Mill,
R. R., and Chase, M. W. (2011b). A new classification and linear
sequence of extant gymnosperms. Phytotaxa. 19:55-70</p></li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Jinlong Zhang, Bing Liu, Su Liu, Zhenhao Feng, Kaiwen Jiang.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
